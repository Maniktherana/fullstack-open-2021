{"version":3,"sources":["components/entry.js","components/names.js","components/form.js","components/filter.js","services/persons.js","components/notification.js","App.js","index.js"],"names":["Entry","name","remove","number","onClick","id","Names","namesToShow","map","Form","onSubmit","newName","newNumber","handleNameChange","handleNumberChange","value","onChange","type","Filter","filter","handleFilterChange","baseUrl","axios","get","then","response","data","newObject","post","put","delete","errorStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","successStyle","Notification","message","includes","style","className","App","useState","namers","setNamers","setNewName","setNewNumber","exists","setExists","setFilter","errorMessage","setErrorMessage","toLowerCase","useEffect","personService","initialNames","console","log","doesNameExist","txt","tempState","forEach","element","event","target","preventDefault","entryToAdd","person","updatedEntry","window","confirm","returnedPerson","personItem","setTimeout","catch","error","returnedName","concat","deletedName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.134682e8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Entry = ({ name, remove }) => {\n    return (\n      <div>\n          <li>{name.name} {name.number} <button onClick={() => remove(name.id, name.name)}>Delete</button></li> \n      </div>\n      )\n}\n\nexport default Entry","import React from 'react'\nimport Entry from './entry'\n\nconst Names = ({ namesToShow, remove }) => {\n    return (\n        <div>\n            <h2>Numbers</h2>\n            <ul>\n                {namesToShow.map(name =>\n                <Entry key={name.name} name={name} remove={remove}/>\n                )}\n            </ul>\n        </div>\n    )\n}\n\nexport default Names","import React from 'react'\n\nconst Form = ({ onSubmit, newName, newNumber, handleNameChange, handleNumberChange}) => {\n    \n    return (\n        <div>\n            <h2>Add a new</h2>\n            <form onSubmit={onSubmit}>\n                <div>\n                    name: <input\n                    value={newName}\n                    onChange={handleNameChange}/>\n                </div>\n                <div>\n                    number: <input\n                    value={newNumber}\n                    onChange={handleNumberChange}/>\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n        \n    )\n}\n\nexport default Form","import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => {\n    return (\n        <div>\n        filter shown with: <input\n          value={filter}\n          onChange={handleFilterChange}/>\n        </div>\n    )\n}\n\nexport default Filter","/* eslint-disable import/no-anonymous-default-export */\nimport axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons/'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => {\n    return response.data\n  })\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteContent = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default {  \n    getAll, create, update, deleteContent\n}","import React from 'react'\n\nconst errorStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n}\n\nconst successStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n}\n\nconst Notification = ({ message }) => {\n    if (message === '') {\n      return null\n    }\n  \n    if (message.includes('ERROR')) {\n        return (\n            <div style={errorStyle} className=\"error\">\n              {message}\n            </div>\n        )\n    } else {\n        return (\n            <div style={successStyle} className=\"error\">\n              {message}\n            </div>\n        )\n    }\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Names from './components/names'\nimport Form from './components/form'\nimport Filter from './components/filter'\nimport personService from './services/persons'\nimport Notification from './components/notification'\n\nconst App = () => {\n\n  const [namers, setNamers] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [exists, setExists] = useState(false)\n  const [filter, setFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  const namesToShow = namers.filter(name => name.name.toLowerCase().includes(filter.toLowerCase()))\n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(initialNames => {\n      setNamers(initialNames)\n    })\n  }, [])\n  console.log(namers)  \n\n  const addName = (event) => {\n\n    event.preventDefault()\n    console.log('button clicked', event.target)\n    console.log(exists)\n\n    const entries = namers.filter((person) =>\n    person.name === newName\n    )\n\n    const entryToAdd = entries[0]\n    const updatedEntry = { ...entryToAdd, number: newNumber }\n\n    if (exists) {\n      if(window.confirm(`${newName} has already been added.\nWould you like to update ${newName}'s phone number?`)) {\n        personService\n        .update(updatedEntry.id, updatedEntry)\n        .then(returnedPerson => {\n          console.log(`Updated ${newName} with ${updatedEntry}`)\n          setNamers(namers.map(personItem => personItem.id !== entryToAdd.id ? personItem : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage(`${newName} was updated`)\n          setTimeout(() => {\n            setErrorMessage('')\n          }, 5000)\n        })\n        .catch((error) => {\n          console.log(error)\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage(`ERROR: ${newName} was already deleted`)\n          setTimeout(() => {\n            setErrorMessage('')\n          }, 5000)\n        })\n      }\n    } else {\n      const nameObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n      .create(nameObject)\n      .then(returnedName => {\n        setNamers(namers.concat(returnedName))\n        setNewNumber('')\n        setNewName('')\n        setErrorMessage(`${newName} was added`)\n        setTimeout(() => {\n          setErrorMessage('')\n        }, 5000)\n      })\n      .catch((error) => {\n        setErrorMessage(`ERROR: ${error.response.data.error}`)\n        setTimeout(() => {\n          setErrorMessage('')\n          }, 5000)\n        console.log(error.response.data)\n      })\n    }\n  }\n\n  const remove = (id, name) => {\n    if ( window.confirm(`Delete ${name}?`)) {\n      personService\n    .deleteContent(id)\n    .then(deletedName => {\n      setNamers(namers.filter(person => person.id !== id))\n      console.log(`deleted ${deletedName}`)\n    })\n    .catch((error) => {\n      setErrorMessage(`ERROR: ${name} was already deleted`)\n      setTimeout(() => {\n        setErrorMessage('')\n        }, 5000)\n      console.log(error)\n    })\n    } else {\n      return\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n    doesNameExist(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const doesNameExist = (txt) => {\n    let tempState = false\n    namers.forEach(element => {\n      if(element.name === txt) {\n        tempState = true\n      }\n    })\n    setExists(tempState)\n  }\n  \n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      \n      <Notification message={errorMessage} />\n\n      <Form onSubmit={addName} newName={newName} newNumber={newNumber} \n        handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n\n      <Names namesToShow={namesToShow} remove={remove} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}